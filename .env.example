# ===========================================
# Disney Streaming Ad Campaign Management
# Environment Configuration Template
# ===========================================

# Copy this file to .env and update the values
# cp .env.example .env

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/disney_ads
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=disney_ads
DATABASE_USER=postgres
DATABASE_PASSWORD=password

# Database pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Redis connection pool
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=10

# ===========================================
# SECURITY & AUTHENTICATION
# ===========================================
SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
PASSWORD_HASH_SCHEMES=bcrypt
PASSWORD_HASH_DEPRECATED=auto

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://your-frontend-domain.com
CORS_ALLOW_CREDENTIALS=true

# ===========================================
# DISNEY STREAMING API INTEGRATION
# ===========================================
DISNEY_STREAMING_API_URL=https://api.disneystreaming.com
DISNEY_STREAMING_API_KEY=your-disney-api-key-here
DISNEY_STREAMING_API_VERSION=v1

# Ad serving system integration
AD_SERVING_API_URL=https://ads.disneystreaming.com
AD_SERVING_API_KEY=your-ad-serving-api-key
AD_SERVING_TIMEOUT=30

# Content management system
CONTENT_API_URL=https://content.disneystreaming.com
CONTENT_API_KEY=your-content-api-key

# ===========================================
# BUSINESS RULES & LIMITS
# ===========================================

# Campaign limits
MAX_ADS_PER_CAMPAIGN=10000
MAX_CAMPAIGNS_PER_ADVERTISER=100
MIN_CAMPAIGN_BUDGET=100
MAX_CAMPAIGN_BUDGET=10000000

# Impression limits (Disney serves over 1 billion ads per month)
DAILY_IMPRESSION_LIMIT=1000000000
HOURLY_IMPRESSION_LIMIT=50000000
MONTHLY_IMPRESSION_LIMIT=30000000000

# Budget controls
MIN_DAILY_BUDGET=10
MAX_DAILY_BUDGET_PERCENTAGE=20
BUDGET_ALERT_THRESHOLD=0.8
BUDGET_PAUSE_THRESHOLD=0.95

# Performance thresholds
MIN_CTR_THRESHOLD=0.1
MIN_VIEWABILITY_THRESHOLD=0.5
MAX_FREQUENCY_CAP=5

# Quality control
AUTO_PAUSE_LOW_PERFORMANCE=true
QUALITY_SCORE_THRESHOLD=3.0
BRAND_SAFETY_ENABLED=true

# ===========================================
# EMAIL & NOTIFICATIONS
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@disney.com
SMTP_PASSWORD=your-email-password
SMTP_TLS=true
SMTP_SSL=false

# Notification settings
EMAIL_FROM=noreply@disneystreaming.com
ALERT_EMAIL_RECIPIENTS=team@disneystreaming.com,manager@disneystreaming.com

# Slack integration (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#ad-alerts

# ===========================================
# LOGGING & MONITORING
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/disney-ads/app.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# Sentry error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# Application monitoring
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
PROMETHEUS_PORT=9090

# ===========================================
# CACHE CONFIGURATION
# ===========================================
CACHE_TTL_SHORT=300         # 5 minutes
CACHE_TTL_MEDIUM=1800       # 30 minutes  
CACHE_TTL_LONG=3600         # 1 hour
CACHE_TTL_DAILY=86400       # 24 hours

# Cache keys prefix
CACHE_KEY_PREFIX=disney_ads

# ===========================================
# CELERY TASK QUEUE
# ===========================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Task routing
CELERY_DEFAULT_QUEUE=default
CELERY_HIGH_PRIORITY_QUEUE=high_priority
CELERY_LOW_PRIORITY_QUEUE=low_priority

# Worker settings
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600

# ===========================================
# FILE STORAGE
# ===========================================
# Local storage
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760      # 10MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,mp4,mov,pdf

# AWS S3 (if using cloud storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
S3_BUCKET_NAME=disney-ads-assets
S3_CDN_URL=https://cdn.disneystreaming.com

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# API rate limits for external services
DISNEY_API_RATE_LIMIT=500
AD_SERVING_API_RATE_LIMIT=1000

# ===========================================
# FRONTEND CONFIGURATION
# ===========================================
REACT_APP_API_URL=http://localhost:8000
REACT_APP_API_VERSION=v1
REACT_APP_APP_NAME=Disney Ad Campaign Manager
REACT_APP_APP_VERSION=1.0.0

# Feature flags
REACT_APP_ENABLE_ANALYTICS=true
REACT_APP_ENABLE_REAL_TIME=true
REACT_APP_ENABLE_ADVANCED_TARGETING=true
REACT_APP_ENABLE_AB_TESTING=true

# External integrations
REACT_APP_GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
REACT_APP_HOTJAR_ID=your-hotjar-id

# ===========================================
# DEVELOPMENT & TESTING
# ===========================================
ENVIRONMENT=development
DEBUG=true
TESTING=false

# Test database
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/disney_ads_test

# Mock external APIs in development
MOCK_DISNEY_API=true
MOCK_AD_SERVING_API=true

# Performance testing
LOAD_TEST_USERS=100
LOAD_TEST_DURATION=300

# ===========================================
# PRODUCTION OVERRIDES
# ===========================================
# Uncomment and set these for production deployment

# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
# DATABASE_POOL_SIZE=50
# REDIS_MAX_CONNECTIONS=100
# CORS_ORIGINS=https://your-production-domain.com
# MOCK_DISNEY_API=false
# MOCK_AD_SERVING_API=false

# Production security
# SESSION_COOKIE_SECURE=true
# SESSION_COOKIE_HTTPONLY=true
# SESSION_COOKIE_SAMESITE=strict

# ===========================================
# DOCKER COMPOSE OVERRIDES
# ===========================================
# These are used by docker-compose.yml

POSTGRES_DB=disney_ads
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password

# Container ports
BACKEND_PORT=8000
FRONTEND_PORT=3000
POSTGRES_PORT=5432
REDIS_PORT=6379

# ===========================================
# KUBERNETES DEPLOYMENT (Optional)
# ===========================================
# KUBERNETES_NAMESPACE=disney-ads
# KUBERNETES_SERVICE_ACCOUNT=disney-ads-sa
# INGRESS_HOST=ads.disneystreaming.com
# TLS_SECRET_NAME=disney-ads-tls

# ===========================================
# BACKUP & DISASTER RECOVERY
# ===========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *    # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=disney-ads-backups

# Database backup
DB_BACKUP_ENABLED=true
DB_BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# ===========================================
# COMPLIANCE & AUDIT
# ===========================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_MONTHS=12
PII_ENCRYPTION_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true

# Data retention policies
USER_DATA_RETENTION_DAYS=365
CAMPAIGN_DATA_RETENTION_YEARS=7
METRICS_DATA_RETENTION_MONTHS=24